{"ast":null,"code":"var _jsxFileName = \"/home/user/Documentos/post-mas-votados/src/components/votes.js\";\nimport React, { Component } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport posts from './posts';\nimport store from \"../store\";\n\nclass Votes extends Component {\n  constructor() {\n    super();\n\n    this.compare = (a, b) => {\n      if (a.votes < b.votes) return -1;\n      if (a.votes > b.votes) return 1;\n      return 0;\n    };\n\n    this.voteArrows = e => {\n      const index = this.state.posts.map(function (e) {\n        return e.id;\n      }).indexOf(Math.floor(e.target.id));\n      var postVotes = this.state.posts[index].votes;\n      e.target.classList.contains(\"glyphicon-triangle-top\") ? postVotes += 1 : postVotes -= 1;\n      var newPosts = this.state.posts.map((post, i) => i === index ? {\n        id: post.id,\n        title: post.title,\n        description: post.description,\n        url: post.url,\n        votes: postVotes,\n        writer_avatar_url: post.writer_avatar_url,\n        post_image_url: post.post_image_url\n      } : post);\n      var posts = this.state.desBut === \"primary\" ? newPosts.sort(this.compare) : newPosts.sort(this.compare).reverse();\n      this.setVote(posts);\n    };\n\n    this.state = {\n      posts: posts.sort(this.compare),\n      ascBut: \"default\",\n      desBut: \"primary\"\n    };\n    store.subscribe(() => {\n      this.setState({\n        posts: store.getState().posts,\n        desBut: store.getState().desBut,\n        ascBut: store.getState().ascBut\n      });\n    });\n  }\n\n  setVote(posts) {\n    store.dispatch({\n      type: \"setVote\",\n      posts\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, this.state.posts.map((post, index) => /*#__PURE__*/React.createElement(Row, {\n      className: \"posts-grid\",\n      key: post.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: post.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: post.id,\n      className: \"image\",\n      src: post.post_image_url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 50\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      className: \"votes\",\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.voteArrows,\n      id: post.id,\n      className: \"glyphicon glyphicon-triangle-top arrow\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }), post.votes, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.voteArrows,\n      id: post.id,\n      className: \"glyphicon glyphicon-triangle-bottom arrow\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: post.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 50\n      }\n    }, post.title)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 75\n      }\n    }, post.description), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"writtenby\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 102\n      }\n    }, \"Escrito por: \", /*#__PURE__*/React.createElement(\"img\", {\n      alt: post.id,\n      className: \"authoravatar\",\n      src: post.writer_avatar_url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 140\n      }\n    }))))));\n  }\n\n}\n\nexport default Votes;","map":{"version":3,"sources":["/home/user/Documentos/post-mas-votados/src/components/votes.js"],"names":["React","Component","Row","Col","posts","store","Votes","constructor","compare","a","b","votes","voteArrows","e","index","state","map","id","indexOf","Math","floor","target","postVotes","classList","contains","newPosts","post","i","title","description","url","writer_avatar_url","post_image_url","desBut","sort","reverse","setVote","ascBut","subscribe","setState","getState","dispatch","type","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col } from 'react-bootstrap'\nimport posts from './posts'\nimport store from \"../store\";\n\nclass Votes extends Component {\n    constructor() {\n      super();\n\n      this.state = {\n        posts: posts.sort(this.compare),\n        ascBut: \"default\",\n        desBut: \"primary\"\n      }\n\n      store.subscribe(() => {\n        this.setState({\n          posts: store.getState().posts,\n          desBut: store.getState().desBut,\n          ascBut: store.getState().ascBut\n        })\n      })\n\n    }\n    compare = (a,b) => {\n        if (a.votes < b.votes)\n          return -1;\n        if (a.votes > b.votes)\n          return 1;\n        return 0;\n      }\n    voteArrows = (e) => {\n      const index = this.state.posts.map(function(e) { return e.id; }).indexOf(Math.floor(e.target.id))\n      var postVotes = this.state.posts[index].votes\n      e.target.classList.contains(\"glyphicon-triangle-top\") ? postVotes += 1 : postVotes -= 1\n      var newPosts = this.state.posts.map((post, i) => i === index ? {id: post.id, title: post.title, description: post.description, url: post.url, votes: postVotes, writer_avatar_url: post.writer_avatar_url, post_image_url: post.post_image_url,} : post)\n\n      var posts = this.state.desBut === \"primary\" ? newPosts.sort(this.compare) : newPosts.sort(this.compare).reverse()\n      this.setVote(posts)\n\n    }\n    setVote(posts) {\n      store.dispatch( {\n        type: \"setVote\",\n        posts\n      })\n    }\n    render() {\n        return (\n            <div>\n            {this.state.posts.map((post, index) =>\n                <Row className=\"posts-grid\" key={post.id}>\n                  <Col xs={4}><a href={post.url}><img alt={ post.id } className=\"image\" src={ post.post_image_url } /></a></Col>\n                  <Col className=\"votes\" xs={1}>\n                    <span onClick={this.voteArrows} id={post.id} className=\"glyphicon glyphicon-triangle-top arrow\" aria-hidden=\"true\" />\n                    {post.votes}\n                    <span onClick={this.voteArrows} id={post.id} className=\"glyphicon glyphicon-triangle-bottom arrow\" aria-hidden=\"true\" />\n                  </Col>\n                  <Col xs={7}><a href={post.url}><p>{ post.title }</p></a><p>{ post.description }</p><p className=\"writtenby\">Escrito por: <img alt={ post.id } className=\"authoravatar\" src={ post.writer_avatar_url } /></p></Col>\n                </Row>\n                )}\n            </div>\n\n        )\n    }\n\n}\n\nexport default Votes;\n"]},"metadata":{},"sourceType":"module"}